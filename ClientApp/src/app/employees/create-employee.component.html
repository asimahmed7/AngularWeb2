<div class="container">
  <div class="card card-outline-secondary">
    <div class="card-header">
      <h3 class="mb-0">{{mode}} Employee</h3>
      <button type="button" class="btn btn-square btn-warning float-right" (click)="loadData(null)">+ Create</button>
    </div>
    <div class="card-body">
      <form class="form-horizontal" [formGroup]="employeeForm" (ngSubmit)="onSubmit()">

        <div class="panel panel-primary">

          <div class="panel-body">
            <div class="form-group">
              <label for="fullName">Full Name</label>

              <input id="empName" type="text" class="form-control" formControlName="empName">

            </div>

            <div class="form-group">
              <label for="email">Email</label>

              <input id="email" type="text" class="form-control" formControlName="email">

            </div>

            <div class="form-group">
              <label for="department">Department</label>

              <select id="department" formControlName="department" class="form-control">
                <option value="">--Select--</option>
                <option *ngFor="let dept of listDept | async" value="{{dept['id']}}">{{dept['name']}}</option>
              </select>


            </div>

            <div class="form-group">
              <label for="jd">Joining Date</label>
              <div class="input-group">

                <input class="form-control" placeholder="yyyy/mm/dd" type="date" id="jd" name="jd"
                  formControlName="joiningdate" ngbDatepicker #d="ngbDatepicker">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"></button>
                </div>

              </div>
            </div>

            <!-- Default unchecked -->
            <div class="custom-control custom-radio">
              <input type="radio" class="custom-control-input" id="emptype1" formControlName="emptype" value="fte"
                name="emptype" mdbInput>
              <label class="custom-control-label" for="emptype1">FTE</label>
            </div>

            <!-- Default checked -->
            <div class="custom-control custom-radio">
              <input type="radio" class="custom-control-input" id="emptype2" formControlName="emptype"
                value="contractor" name="emptype" checked mdbInput>
              <label class="custom-control-label" for="emptype2">Contractor</label>
            </div>

            <div class="well">
              <div formArrayName="skills" *ngFor="let skill of employeeForm.get('skills')['controls']; let i = index">
                <div [formGroupName]="i">

                  <div class="form-group">
                    <label for="skillName{{i}}">Skill Name</label>

                    <select id="skillName{{i}}" formControlName="skillName" class="form-control">
                      <option value="">--Select--</option>
                      <option *ngFor="let skill of listSkills | async" value="{{skill['id']}}">{{skill['name']}}
                      </option>
                    </select>

                  </div>

                  <div class="form-group">
                    <label for="level{{i}}">level</label>

                    <input id="level{{i}}" type="text" class="form-control" formControlName="level">

                  </div>
                </div>
              </div>
            </div>
            <span class="help-block" *ngIf="!isValid">
              "Validation Error
            </span>

            <div class="panel-body">

              <button mat-raised-button class="btn btn-primary" type="button" (click)="addSkillButtonClick()"> + Add
                Skill</button>
            </div>



          </div>
          <div class="panel-footer">
            <div class="form-group">
              <button mat-raised-button type="button" (click)="goBack()"
                class="btn btn-success btn-lg float-right">Back</button>
            </div>
            <div class="form-group">
              <button mat-raised-button type="submit" class="btn btn-success btn-lg float-right">Save</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>


</div>